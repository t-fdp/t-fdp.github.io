webpackJsonp([1],{0:function(t,e){},1:function(t,e){},2:function(t,e){},3:function(t,e){},"3dHr":function(t,e){},4:function(t,e){},5:function(t,e){},"5kR/":function(t,e){},GUwN:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("fZjL"),i=n.n(s),r=n("woOf"),o=n.n(r),l=n("pFYg"),h=n.n(l),c=n("Cx91"),d={name:"ForceD3",props:{filename:String,nodestrength:Number,linkstrength:Number},mounted:function(){},data:function(){return{data:{},nowFileName:this.filename,nodeStrength:.1,linkStrength:.1}},components:{},methods:{ForceGraph:function(t){var e=t.nodes,n=t.links,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.nodeId,i=void 0===s?function(t){return t.id}:s,r=a.nodeGroup,l=a.nodeGroups,d=a.nodeTitle,u=a.nodeFill,f=void 0===u?"currentColor":u,m=a.nodeStroke,p=void 0===m?"#fff":m,g=a.nodeStrokeWidth,v=void 0===g?1.5:g,y=a.nodeStrokeOpacity,b=void 0===y?1:y,x=a.nodeRadius,k=void 0===x?5:x,N=a.nodeStrength,S=a.linkSource,w=void 0===S?function(t){return t.source}:S,_=a.linkTarget,C=void 0===_?function(t){return t.target}:_,F=a.linkStroke,R=void 0===F?"#999":F,j=a.linkStrokeOpacity,E=void 0===j?.6:j,B=a.linkStrokeWidth,M=void 0===B?1.5:B,A=a.linkStrokeLinecap,$=void 0===A?"round":A,D=a.linkStrength,q=a.colors,G=void 0===q?c.n:q,V=a.width,U=void 0===V?640:V,T=a.height,I=void 0===T?400:T,P=a.invalidation;console.log(i),console.log(r);var z=c.i(e,i).map(at);console.log(z);var L=c.i(n,w).map(at),O=c.i(n,C).map(at);void 0===d&&(d=function(t,e){return z[e]});var H=null==d?null:c.i(e,d),Y=null==r?null:c.i(e,r).map(at),W="function"!=typeof M?null:c.i(n,M),X="function"!=typeof R?null:c.i(n,R);e=c.i(e,function(t,e){return{id:z[e]}}),n=c.i(n,function(t,e){return{source:L[e],target:O[e]}}),console.log(e),console.log(n),Y&&void 0===l&&(l=c.o(Y));var J=null==r?null:c.m(l,G),Q=c.e(),K=c.d(n).id(function(t){var e=t.index;return z[e]});void 0!==N&&Q.strength(N),void 0!==D&&K.strength(D);var Z=c.f(e).force("link",K).force("charge",Q).force("center",c.c()).on("tick",function(){et.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),nt.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}),tt=c.a("svg").attr("width",U).attr("height",I).attr("viewBox",[-U/2,-I/2,U,I]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),et=tt.append("g").attr("stroke","function"!=typeof R?R:null).attr("stroke-opacity",E).attr("stroke-width","function"!=typeof M?M:null).attr("stroke-linecap",$).selectAll("line").data(n).join("line"),nt=tt.append("g").attr("fill",f).attr("stroke",p).attr("stroke-opacity",b).attr("stroke-width",v).selectAll("circle").data(e).join("circle").attr("r",k).call(function(t){return c.b().on("start",function(e){e.active||t.alphaTarget(.3).restart();e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}).on("drag",function(t){t.subject.fx=t.x,t.subject.fy=t.y}).on("end",function(e){e.active||t.alphaTarget(0);e.subject.fx=null,e.subject.fy=null})}(Z));function at(t){return null!==t&&"object"===(void 0===t?"undefined":h()(t))?t.valueOf():t}return W&&et.attr("stroke-width",function(t){var e=t.index;return W[e]}),X&&et.attr("stroke",function(t){var e=t.index;return X[e]}),Y&&nt.attr("fill",function(t){var e=t.index;return J(Y[e])}),H&&nt.append("title").text(function(t){var e=t.index;return H[e]}),null!=P&&P.then(function(){return Z.stop()}),o()(tt.node(),{scales:{color:J}})},getData:function(t){var e=this;this.$axios.get("./../../static/data/"+t+".json").then(function(t){console.log("d3 getdata",t.data),e.data=t.data}).catch(function(t){console.log(t)})},render:function(t,e){if(0!==i()(this.data).length){console.log("enter"),console.log("data",this.data);for(var n=this.ForceGraph(this.data,{nodeId:function(t){return t.id},nodeGroup:function(t){return t.group},nodeTitle:function(t){return t.name+"\n"+t.group},width:800,height:600,invalidation:null}),a=document.getElementById("ForceD3");a.firstChild;)a.removeChild(a.firstChild);document.getElementById("ForceD3").appendChild(n)}}},watch:{filename:function(t,e){this.nowFileName=t,console.log(t),this.getData(this.nowFileName)},data:function(t,e){console.log(t),this.render(this.nodeStrength,this.linkStrength)},nodestrength:function(t,e){this.nodeStrength=t,console.log("d3node",this.nodeStrength),this.render(this.nodeStrength,this.linkStrength)},linkstrength:function(t,e){this.linkStrength=t,console.log("d3link",this.linkStrength),this.render(this.nodeStrength,this.linkStrength)}}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"ForceD3"}},[this._v("\n    "+this._s(this.nowFileName)+"\n")])},staticRenderFns:[]};var f=n("VU/8")(d,u,!1,function(t){n("uVwK")},null,null).exports,m=n("ifoU"),p=n.n(m),g=n("mvHQ"),v=n.n(g);var y=n("AJaF"),b={name:"MyGraph",props:{filename:String,nodestrength:Number,linkstrength:Number,mygraphk:Number,mygraphp:Number,mygraphaone:Number,mygraphatwo:Number,mygraphctwo:Number,filedata:Object,paraalphaRep:Number,parabetaAttr:Number,paragammaRep:Number,parastepsize:Number,paraclear:Boolean,paraflagrun:Number,flaglocal:Boolean,evenly:Boolean,major:Boolean},mounted:function(){this.repulforce=function(){var t,e,n,a,s=1,i=1,r=2,o=-1,l=1,h=1/0,d=.81;function u(t){return t.x}function f(t){return t.y}var m=c.l;function p(a){var s,i=t.length,r=m(t,u,f).visitAfter(v);for(n=a,s=0;s<i;++s)e=t[s],r.visit(y)}function g(){if(t){var e,n,s=t.length;for(a=new Array(s),e=0;e<s;++e)n=t[e],a[n.index]=o}}function v(t){var e,n,s,i,r,o=0,l=0;if(t.length){for(s=i=r=0;r<4;++r)(e=t[r])&&(n=Math.abs(e.value))&&(o+=e.value,l+=n,s+=n*e.x,i+=n*e.y);t.x=s/l,t.y=i/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{o+=a[e.data.index]}while(e=e.next)}t.value=o}function y(t,o,l,c){if(!t.value)return!0;var u=t.x-e.x,f=t.y-e.y,m=c-o,p=u*u+f*f,g=i/Math.pow(1+s*p,r);if(m*m/d<p)return p<h&&(e.vx+=u*t.value*n*g,e.vy+=f*t.value*n*g),!0;if(!(t.length||p>=h))do{t.data!==e&&(m=a[t.data.index]*n*g,e.vx+=u*m,e.vy+=f*m)}while(t=t.next)}return p.initialize=function(e){t=e,g()},p.strength=function(t){return arguments.length?(o="function"==typeof t?t:+t,g(),p):o},p.distanceMin=function(t){return arguments.length?(l=t*t,p):Math.sqrt(l)},p.distanceMax=function(t){return arguments.length?(h=t*t,p):Math.sqrt(h)},p.theta=function(t){return arguments.length?(d=t*t,p):Math.sqrt(d)},p.xScaleFactor=function(t){return arguments.length?(s=t,p):s},p.yScaleFactor=function(t){return arguments.length?(i=t,p):i},p.Degree=function(t){return arguments.length?(r=t,p):r},p}().strength(-1),this.canvas=document.getElementById("main-canvas"),this.platform=Stardust.platform("webgl-2d",this.canvas,this.width,this.height),this.snodes=Stardust.mark.create(Stardust.mark.circle(20),this.platform),this.sedges=Stardust.mark.create(Stardust.mark.line(),this.platform),this.colors=this.colors.map(function(t){return[t[0]/255,t[1]/255,t[2]/255,1]}),this.snodesSelected=Stardust.mark.create(Stardust.mark.circle(20),this.platform)},data:function(){return{snodesSelected:{},selectedNode:null,runstop:0,data:{},nowFileName:this.filename,nodeStrength:.1,linkStrength:.1,debug:!1,snodes:{},sedges:{},repulforce:{},width:800,height:800,nodes:[],links:[],links_new:[],counts:[],nodeto:[[]],timer:c.p,cnt:0,maxiter:300,alphaRep:this.paraalphaRep,betaAttr:this.parabetaAttr,gammaRep:this.paragammaRep,flagrun:this.paraflagrun,alphasmallflag:!0,fileid:9,lr:20,refine:!1,renderScale:1,stepper1:{},iter:0,alpha:1,alphastart:1,alphamin:.01,colors:[[31,119,180],[255,127,14],[44,160,44],[214,39,40],[148,103,189],[140,86,75],[227,119,194],[188,189,34],[23,190,207],[127,103,39],[220,20,60],[250,128,114],[255,0,255],[255,228,181],[255,215,0],[0,128,114],[112,128,144],[30,144,255],[128,70,0],[128,128,128]],canvas:{},platform:{},positions:{},pos:{}}},components:{},methods:{runSelect:function(t){"{}"!==v()(this.stepper1)&&this.stepper1.stop(),this.iter=0,this.$emit("flagRunFunc",0),this.RunSimulation()},getData:function(t){var e=this;console.log("my get data ing"),this.$axios.get("./../../static/data/"+t+".json").then(function(t){e.data=t.data,console.log("getdata",e.data)}).catch(function(t){console.log(t)})},RunSimulation:function(){var t=this;this.nodes=this.data.nodes,this.nodes.map(function(t){return t.id=t.name});for(var e=0;e<this.nodes.length;e++)this.nodes[e].index=e;this.links=this.data.links,this.links.map(function(t){return t.idsrc=t.source,t.idtgt=t.target}),this.links.map(function(e){return e.source=t.nodes[e.idsrc],e.target=t.nodes[e.idtgt]}),this.counts=this.nodes.map(function(t){return 0});for(e=0;e<this.links.length;e++){(s=(a=this.links[e]).idsrc)!=(i=a.idtgt)&&(this.counts[s]++,this.counts[i]++)}this.nodeto=new Array(this.nodes.length);for(e=0;e<this.nodes.length;e++)this.nodeto[e]=[];var n=new p.a;for(e=0;e<this.links.length;e++){var a,s=(a=this.links[e]).idsrc,i=a.idtgt;n.has(s+","+i)||n.has(i+","+s)||s!=i&&(this.nodeto[s].push(i),this.nodeto[i].push(s),n.set(s+","+i,1),n.set(i+","+s,1))}this.links_new=new Array;for(e=0;e<this.nodes.length;e++){var r=this.nodeto[e].length;this.counts[s]=r;for(var o=0;o<r;o++){var l=this.nodeto[e][o];this.links_new.push({idsrc:e,idtgt:l,source:this.nodes[e],target:this.nodes[l]})}}this.links=this.links_new,console.log(this.data.links=this.links_new,this.data.links);var h,c=Math.PI*(3-Math.sqrt(5)),d=this.nodes.length;for(e=0;e<d;++e){if((h=this.nodes[e]).index=e,null!=h.fx&&(h.x=h.fx),null!=h.fy&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var u=10*Math.sqrt(e),f=e*c;h.x=u*Math.cos(f),h.y=u*Math.sin(f)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0),isNaN(h.group)&&(h.group=0)}this.nodes.map(function(t){return t.bakgroup=t.group}),this.nodes.map(function(t){return t.bakx=t.x}),this.nodes.map(function(t){return t.baky=t.y}),this.nodes.map(function(t){return t.rd=1});var m=this.nodes.map(function(t){return[t.x,t.y]});this.positions=Stardust.array("Vector2").value(function(t){return t}).data(m);var g=Stardust.scale.custom("array(pos, value)").attr("pos","Vector2Array",this.positions);g=Stardust.scale.custom("array(pos, value)").attr("pos","Vector2Array",this.positions),u=7.5;d>200&&(u=4),d>500&&(u=3),d>1e3&&(u=2.5),d>2e3&&(u=2),d>4e3&&(u=1.5),d>6e3&&(u=1),this.snodes.attr("radius",function(t){return u*t.rd>u+.5?u+.5:u*t.rd}).attr("color",function(e){return t.colors[e.group%20]}),this.snodesSelected.attr("radius",2*u).attr("color",function(e){return t.colors[e.group%20]}),this.snodes.attr("center",g(function(t){return t.index})),this.snodesSelected.attr("center",g(function(t){return t.index})),this.sedges.attr("p1",g(function(t){return t.source.index})),this.sedges.attr("p2",g(function(t){return t.target.index})),this.sedges.attr("color",[.75,.75,.75,.5]),this.snodes.data(this.nodes),this.sedges.data(this.links),this.Simulation();var v=this;this.canvas.onmousedown=function(t){if(console.log(v.flaglocal),1==v.flaglocal){for(var e=t.clientX-v.canvas.getBoundingClientRect().left,n=t.clientY-v.canvas.getBoundingClientRect().top,a=1123456789,s=0,i=0;i<v.pos.length;i++){var r=Math.pow(v.pos[i][0]-e,2)+Math.pow(v.pos[i][1]-n,2);r<a&&(s=i,a=r)}console.log("selected i:",s,v.nodes[s]),console.log("selected p :",s),s&&(v.selectedNode?v.selectedNode.includes(s)||v.selectedNode.push(s):(v.selectedNode=[],v.selectedNode.push(s)),console.log(v.selectedNode)),v.render()}}},Simulation:function(){this.runstop=0,this.$emit("func",this.runstop);var t=this.nodes.length,e=this.links.length,n=c.j(this.counts);!0===this.refine?(console.log(this.refine,this.major,this.evenly,e,t),this.evenly?(this.alpha=.002,this.alphamin=.001):this.major?(this.alpha=.2,this.alphamin=.01,(e/t>=9||n>10)&&(this.alpha=2e-4,this.alphamin=1e-4)):this.flaglocal?console.log("it's local refinement."):(this.alpha=.2,e/t>=15&&(this.alpha=.02,this.alphamin=1e-4),e/t>=75&&(this.alpha=.002,this.alphamin=1e-4))):(this.alpha=1,e/t>=15&&(this.alpha=.1,this.alphamin=.001),e/t>=75&&(this.alpha=.01,this.alphamin=.001)),this.repulforce.initialize(this.nodes),this.stepper1=c.p(this.step)},SimulationLocal:function(){this.runstop=0,this.$emit("func",this.runstop),this.alpha=2e-4,this.alphamin=1e-4,this.repulforce.initialize(this.nodes),this.stepper1=c.p(this.stepLocal)},exportRaw:function(t,e){var n=window.URL||window.webkitURL||window,a=new Blob([e]),s=document.createElementNS("http://www.w3.org/1999/xhtml","a");s.href=n.createObjectURL(a),s.download=t,s.click()},saveFile:function(t){for(var e=t.length,n="",a=0;a<e;a++)n+=t[a][0]+" "+t[a][1]+"\n";this.exportRaw("pos_"+this.filename+".txt",n)},eval:function(){this.saveFile(this.pos)},step:function(){0==this.paraflagrun&&(this.iter<=this.maxiter&&(this.SimulationStep(this.alpha),this.alpha+=.012955423246736264*(this.alphamin-this.alpha),this.alpha=Math.max(this.alpha,this.alphamin)),this.iter==this.maxiter&&(this.stepper1.stop(),this.runstop=1,this.$emit("func",this.runstop)),this.iter+=1)},stepLocal:function(){0==this.paraflagrun&&(null==this.selectedNode?(this.stepper1.stop(),this.runstop=1,this.$emit("func",this.runstop)):this.iter<=this.maxiter&&(this.SimulationLocalStep(this.alpha),this.alpha+=.012955423246736264*(this.alphamin-this.alpha),this.alpha=Math.max(this.alpha,this.alphamin)),this.iter==this.maxiter&&(this.stepper1.stop(),this.runstop=1,this.$emit("func",this.runstop)),this.iter+=1)},SimulationStep:function(t){var e=this,n=1/this.alphaRep,a=this.betaAttr,s=this.nodes.length,i=0,r=this.links.length,o=y.b([s,2]).arraySync();for(i=0;i<r;i++){var l,h,d=this.links[i],u=d.source,f=d.target,m=d.idsrc,p=d.idtgt,g=this.counts[m],v=this.counts[p],b=1*v/(g+v),x=a/(1+((l=f.x+f.vx-u.x-u.vx||this.jiggle())*l+(h=f.y+f.vy-u.y-u.vy||this.jiggle())*h))+.5*b;o[m][0]+=l*x,o[m][1]+=h*x}for(i=0;i<s;i++){var k=this.nodes[i],N=o[i][0],S=o[i][1],w=(F=Math.sqrt(N*N+S*S)+1e-6)<2e3?F:2e3;k.vx+=t*N/F*w,k.vy+=t*S/F*w}this.repulforce.xScaleFactor(1).yScaleFactor(n).Degree(this.gammaRep),this.repulforce(t);var _=y.a([s,2],0,1,"float32",1e5*t).arraySync();for(i=0;i<s;i++){(k=this.nodes[i]).vx+=.01*t*_[i][0],k.vy+=.01*t*_[i][1]}var C=0;for(i=0;i<this.nodes.length;i++){var F;N=(k=this.nodes[i]).vx,S=k.vy;C=C>(w=(F=Math.sqrt(N*N+S*S)+1e-6)<1?F:1)?C:w,k.x+=N/F*w,k.y+=S/F*w,k.vx*=.6,k.vy*=.6}var R=this.nodes.map(function(t){return t.x}),j=this.nodes.map(function(t){return t.y}),E=c.k(R),B=c.k(j),M=c.j(R),A=c.j(j),$=(E+M)/2,D=(B+A)/2,q=1.2*Math.max(A-B,M-E);this.renderScale=q,this.pos=this.nodes.map(function(t){return[(t.x-$)/e.renderScale*e.width+e.width/2,((D-t.y)/e.renderScale+(A-D)/e.renderScale-.45)*e.height+e.height/2]}),this.positions.data(this.pos),requestAnimationFrame(this.render),C<.002&&(this.stepper1.stop(),this.runstop=1,this.$emit("func",this.runstop))},SimulationLocalStep:function(t){var e=this,n=1/this.alphaRep,a=this.betaAttr,s=15e5,i=600,r=this.nodes.length,o=this.links.length,l=c.j(this.counts);(o/r>6&&l>20||l>100)&&(s=3e3,i=300),console.log(o,r,l,s,i);var h=0,d=(o=this.links.length,y.b([r,2]).arraySync());for(h=0;h<o;h++){var u=this.links[h],f=u.source,m=u.target,p=u.idsrc,g=u.idtgt,v=this.counts[p],b=1*(E=this.counts[g])/(v+E),x=a/(1+(A=(q=m.x+m.vx-f.x-f.vx||this.jiggle())*q+(G=m.y+m.vy-f.y-f.vy||this.jiggle())*G))+.5*b;d[p][0]+=q*x,d[p][1]+=G*x}for(h=0;h<r;h++){var k=this.nodes[h],N=d[h][0],S=d[h][1],w=(I=Math.sqrt(N*N+S*S)+1e-6)<2e3?I:2e3;k.vx+=t*N/I*w,k.vy+=t*S/I*w}for(var _=y.b([r,2]).arraySync(),C=this.selectedNode.length,F=0;F<C;F++){h=this.selectedNode[F];for(var R=this.nodeto[h].length,j=0;j<R;j++){var E,B=this.nodeto[h][j];f=this.nodes[B],m=this.nodes[h],v=this.counts[B],b=1*(E=this.counts[h])/(v+E),x=.2*a/(1+(A=(q=m.x+m.vx-f.x-f.vx||this.jiggle())*q+(G=m.y+m.vy-f.y-f.vy||this.jiggle())*G))+.5*b;_[B][0]+=100*q*x,_[B][1]+=100*G*x}}for(h=0;h<r;h++){k=this.nodes[h],N=_[h][0],S=_[h][1],w=(I=Math.sqrt(N*N+S*S)+1e-6)<2e3?I:2e3;k.vx+=t*N/I*w,k.vy+=t*S/I*w}for(F=0;F<C;F++)for(h=this.selectedNode[F],R=this.nodeto[h].length,B=0;B<R;B++){j=this.nodeto[h][B];for(var M=0;M<this.nodes.length;M++)if(M!=j){f=this.nodes[j],m=this.nodes[M];var A=(q=f.x-m.x)*q+(G=f.y-m.y)*G,$=i/Math.pow(1+A,3);m.vx-=q*$*t,m.vy-=G*$*t}for(var D=0;D<R;D++){if((M=this.nodeto[h][D])!=j){f=this.nodes[j],m=this.nodes[M],A=(q=f.x-m.x)*q+(G=f.y-m.y)*G,$=s/Math.pow(1+A,6);var q,G,V=i/Math.pow(1+A,3);m.vx-=q*($-V)*t,m.vy-=G*($-V)*t}}}this.repulforce.xScaleFactor(1).yScaleFactor(n).Degree(this.gammaRep),this.repulforce(t);var U=y.a([r,2],0,1,"float32",1e5*t).arraySync();for(h=0;h<r;h++){(k=this.nodes[h]).vx+=.1*t*U[h][0],k.vy+=.1*t*U[h][1]}var T=0;for(F=0;F<C;F++){h=this.selectedNode[F];(k=this.nodes[h]).vx*=.1,k.vy*=.1}for(h=0;h<this.nodes.length;h++){var I;N=(k=this.nodes[h]).vx,S=k.vy;T=T>(w=(I=Math.sqrt(N*N+S*S)+1e-6)<.1?I:.1)?T:w,k.x+=N/I*w,k.y+=S/I*w,k.vx*=.6,k.vy*=.6}var P=this.nodes.map(function(t){return t.x}),z=this.nodes.map(function(t){return t.y}),L=c.k(P),O=c.k(z),H=c.j(P),Y=c.j(z),W=(L+H)/2,X=(O+Y)/2,J=1.2*Math.max(Y-O,H-L);this.renderScale=J,this.pos=this.nodes.map(function(t){return[(t.x-W)/e.renderScale*e.width+e.width/2,((X-t.y)/e.renderScale+(Y-X)/e.renderScale-.45)*e.height+e.height/2]}),this.positions.data(this.pos),requestAnimationFrame(this.render),T<.002&&(this.stepper1.stop(),this.runstop=1,this.$emit("func",this.runstop))},render:function(){var t=this;if(this.selectedNode){for(var e=0,n=y.b([this.nodes.length]).arraySync(),a=0;a<this.selectedNode.length;a++){var s=this.selectedNode[a];this.nodes[s].group=e;for(var i=this.nodeto[s].length,r=0;r<i;r++)this.nodes[this.nodeto[s][r]].group=e,this.nodes[this.nodeto[s][r]].rd=1.25,n[this.nodeto[s][r]]=1;e+=1,n[s]=1}for(s=0;s<this.nodes.length;s++)0==n[s]&&(this.nodes[s].group=19,this.nodes[s].rd=.9);this.snodes.data(this.nodes),this.sedges.attr("color",[.75,.75,.75,.15])}this.sedges.render(),this.snodes.render(),this.snodesSelected.data(this.selectedNode?this.selectedNode.map(function(e){return t.nodes[e]}):[]),this.snodesSelected.render()},jiggle:function(){return 1e-6*(Math.random()-.5)}},watch:{filedata:function(t,e){this.selectedNode=null,this.data=t},filename:function(t,e){this.nowFileName=t,this.getData(this.nowFileName)},data:function(t,e){this.selectedNode=null,this.runSelect()},paraalphaRep:function(t,e){this.alphaRep=this.paraalphaRep>.001?this.paraalphaRep:.001,0==this.runstop&&(this.alpha=5*this.alphamin,this.iter=200)},parabetaAttr:function(t,e){this.betaAttr=this.parabetaAttr>0?this.parabetaAttr:0,0==this.runstop&&(this.alpha=5*this.alphamin,this.iter=200)},paragammaRep:function(t,e){this.gammaRep=this.paragammaRep>1.5?this.paragammaRep:1.5,0==this.runstop&&(this.alpha=5*this.alphamin,this.iter=200)},parastepsize:function(t,e){},paraflagrun:function(t,e){1==t?(this.refine=!1,this.selectedNode=null,"{}"!==v()(this.stepper1)&&this.stepper1.stop(),this.iter=0,this.$emit("flagRunFunc",0),this.nodes.map(function(t){return t.group=t.bakgroup}),this.nodes.map(function(t){return t.x=t.bakx}),this.nodes.map(function(t){return t.y=t.baky}),this.sedges.attr("color",[.75,.75,.75,.5]),this.snodes.data(this.nodes),this.Simulation()):2==t&&(this.refine=!0,"{}"!==v()(this.stepper1)&&this.stepper1.stop(),this.iter=0,this.$emit("flagRunFunc",0),console.log(this.data),this.flaglocal?(console.log("local here"),this.SimulationLocal()):this.Simulation())},flaglocal:function(t,e){(console.log("flaglocal graph:",this.flaglocal),1==this.flaglocal)?document.getElementById("selected-nodes").style.visibility="visible":document.getElementById("main-canvas").style.border=""},paraclear:function(t,e){this.paraclear&&(null!=this.selectedNode&&(this.selectedNode=null,this.nodes.map(function(t){return t.group=t.bakgroup}),this.nodes.map(function(t){return t.rd=1}),this.sedges.attr("color",[.75,.75,.75,.5]),this.snodes.data(this.nodes),this.render()),this.$emit("returnclear",!1))},linkstrength:function(t,e){this.linkStrength=t,console.log("mylink",this.linkStrength)}}},x={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"MyGraph"}},[e("div",{attrs:{id:"selected-nodes"}},[e("span",{attrs:{"margin:0px":""}},[this._v(" you can select the nodes! ")])]),this._v(" "),e("canvas",{attrs:{id:"main-canvas"}}),this._v(" "),e("div",{staticClass:"sliders"})])}]};var k=n("VU/8")(b,x,!1,function(t){n("3dHr")},null,null).exports,N={name:"ForceStardust",props:{filename:String,nodestrength:Number,linkstrength:Number,gravity:Number,charge:Number,linkdistance:Number,filedata:Object},mounted:function(){this.canvas=document.getElementById("forceStar"),this.platform=Stardust.platform("webgl-2d",this.canvas,this.width,this.height),this.snodes=Stardust.mark.create(Stardust.mark.circle(10),this.platform),this.sedges=Stardust.mark.create(Stardust.mark.line(),this.platform),this.colors=this.colors.map(function(t){return[t[0]/255,t[1]/255,t[2]/255,1]})},data:function(){return{data:{},nowFileName:this.filename,nodeStrength:.1,linkStrength:.1,canvas:{},width:738,height:738,platform:{},snodes:{},snodesBG:{},snodesSelected:{},sedges:{},requested:null,fps:{},colors:[[31,119,180],[255,127,14],[44,160,44],[214,39,40],[148,103,189],[140,86,75],[227,119,194],[127,127,127],[188,189,34],[23,190,207],[127,103,39],[220,20,60],[250,128,114],[255,0,255],[255,228,181],[255,215,0],[0,128,114],[112,128,144],[30,144,255],[128,70,0]],force:{},iter:0}},components:{},methods:{runSelect:function(t){this.alpha=1,this.iter=0,this.RunSimulation()},getData:function(t){var e=this;this.$axios.get("./../../static/data/"+t+".json").then(function(t){e.data=t.data,console.log(" 2 force getdata",e.data)}).catch(function(t){console.log(t)})},RunSimulation:function(){var t=this;this.nodes=this.data.nodes,this.nodes.map(function(t){return t.id=t.name});for(var e=0;e<this.nodes.length;e++)this.nodes[e].index=e;this.links=this.data.links,this.links.map(function(t){return t.idsrc=t.source,t.idtgt=t.target}),this.links.map(function(e){return e.source=t.nodes[e.idsrc],e.target=t.nodes[e.idtgt]});for(e=0;e<this.nodes.length;e++)this.nodes[e].index=e,this.nodes[e].x=Math.random()*this.width,this.nodes[e].y=Math.random()*this.height;this.sedges.attr("color",[.75,.75,.75,.5]),this.force=c.f().force("link",c.d().id(function(t){return t.index})).force("charge",c.e()).force("forceX",c.g(this.width/2)).force("forceY",c.h(this.height/2)),this.force.nodes(this.nodes),this.force.force("link").links(this.links),this.force.force("forceX").strength(.5),this.force.force("forceY").strength(.5),this.force.force("link").distance(1),this.force.force("link").strength(.05),this.force.force("charge").strength(-100);var n=Stardust.array("Vector2").value(function(t){return[t.x,t.y]}).data(this.nodes),a=Stardust.scale.custom("array(pos, value)").attr("pos","Vector2Array",n);this.snodes.attr("radius",7.5).attr("color",function(e){return t.colors[e.group%20]}),this.snodes.attr("center",a(function(t){return t.index})),this.sedges.attr("p1",a(function(t){return t.source.index})),this.sedges.attr("p2",a(function(t){return t.target.index})),this.snodes.data(this.nodes),this.sedges.data(this.links),this.force.on("tick",function(){n.data(t.nodes),t.requestRender()}),this.requestRender()},requestRender:function(){this.requested||(this.requested=requestAnimationFrame(this.render))},render:function(){this.requested=null,this.sedges.render(),this.snodes.render(),this.force.alphaTarget(1).restart(),this.iter=this.iter+1,this.iter>400&&this.force.stop()},changeAttr:function(t,e){this.iter=0,"gravity"==t&&(this.force.force("forceX").strength(e),this.force.force("forceY").strength(e)),"linkDistance"==t&&this.force.force("link").distance(e),"linkStrength"==t&&this.force.force("link").strength(e),"charge"==t&&this.force.force("charge").strength(e),this.force.alphaTarget(.3).restart()}},watch:{filedata:function(t,e){console.log("传数据",t),this.data=t},filename:function(t,e){this.nowFileName=t,console.log(t),this.getData(this.nowFileName)},data:function(t,e){this.runSelect()},gravity:function(t,e){this.changeAttr("gravity",t)},charge:function(t,e){this.changeAttr("charge",t)},linkdistance:function(t,e){this.changeAttr("linkDistance",t)},linkstrength:function(t,e){this.changeAttr("linkDistance",t)}}},S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"ForceStardust"}},[e("h2",[this._v("force-directed layout ")]),this._v(" "),e("canvas",{attrs:{id:"forceStar"}}),this._v(" "),e("div",{staticClass:"fps"})])}]};var w={name:"App",template:"<div></div>",mounted:function(){},data:function(){return{first:"MyGraph",second:"ForceD3",currentView:"MyGraph",msg:"t-FDP: Improved Force-Directed Graph Layouts with t-Distribution Energy",graphData:[],list:[{id:1,fName:"can_96",showname:"can_96"},{id:2,fName:"bcspwr07",showname:"bcspwr07"},{id:3,fName:"rajat11",showname:"rajat11"},{id:1,fName:"Cluster800_2",showname:"cluster"},{id:2,fName:"qh882",showname:"qh882"},{id:3,fName:"btree9",showname:"btree9"},{id:3,fName:"VisCoauthor",showname:"VisCoauthor"},{id:1,fName:"cage8",showname:"cage8"},{id:2,fName:"lesmis",showname:"lesmis"},{id:3,fName:"grid17",showname:"grid17"},{id:1,fName:"netscience",showname:"netscience"},{id:2,fName:"dwt_419",showname:"dwt_419"},{id:3,fName:"block_2000",showname:"block_2000"},{id:1,fName:"price_1000",showname:"price_1000"},{id:2,fName:"dwt_1005",showname:"dwt_1005"},{id:3,fName:"1138_bus",showname:"1138_bus"},{id:1,fName:"USPowerGrid",showname:"USPowerGrid"},{id:2,fName:"ca-GrQc",showname:"ca-GrQc"},{id:3,fName:"fe_4elt2",showname:"fe_4elt2"}],selectedName:"",nodestrength:.1,linkstrength:.05,charge:-40,gravity:.5,linkdistance:50,evenly:!1,major:!1,flaglocal:!1,comp:!1,filedata:{},filepath:"",alpha:.1,beta:8,gamma:2,stepsize:1,paraclear:!1,flagrun:0,runstop:0}},components:{MyGraph:k,ForceD3:f,ForceStardust:n("VU/8")(N,S,!1,function(t){n("5kR/")},null,null).exports},methods:{getMsgFromSon:function(t){this.runstop=t},returnalpahRep:function(t){this.alpha=t},getFlagrun:function(t){this.flagrun=t,console.log("this.flagrun",this.flagrun)},returnclear:function(t){this.paraclear=t},loaddata:function(){this.$refs.fileRef.dispatchEvent(new MouseEvent("click"))},fileChange:function(t){this.alpha=.1,this.beta=8,this.gamma=2,this.runstop=0,this.evenly=!1,this.flagrun=1,this.major=!1,this.flaglocal=!1,console.log(t.target.value),this.filepath=t.target.value;var e=t.target.files[0];console.log(e);var n=new FileReader,a=this;n.onload=function(t){var e=new Function("return "+this.result)();a.filedata=e,console.log(a.filedata)},n.readAsText(e,"UTF-8")},getData:function(){this.graphData=[1,2]},toggleTabs:function(t){this.currentView=t},changefName:function(t){this.alpha=.1,this.beta=8,this.gamma=2,this.runstop=0,this.evenly=!1,this.flagrun=1,this.major=!1,this.flaglocal=!1,this.selectedName=t.target.value},changeNS:function(t){this.nodestrength=t.target.value-"0"},changeLS:function(t){this.linkstrength=t.target.value-"0"},exampleFile:function(t){this.alpha=.1,this.beta=8,this.gamma=2,this.runstop=0,this.evenly=!1,this.flagrun=1,this.major=!1,this.flaglocal=!1,this.selectedName=t.target.value},setpara:function(t){var e=t.target.value;"evenly"==e?(this.evenly=!0,this.major=!1,this.flaglocal=!1,document.getElementsByClassName("extern-default-button2")[0].disabled="disabled",document.getElementsByClassName("extern-default-button4")[0].disabled="disabled",document.getElementsByClassName("button4-2")[0].disabled="disabled",this.alpha=.002,this.beta=8,this.gamma=4):"major"==e&&(this.alpha=.1,this.beta=8,this.gamma=5,this.evenly=!1,document.getElementsByClassName("extern-default-button1")[0].disabled="disabled",this.major=!0,this.flaglocal=!1,document.getElementsByClassName("extern-default-button4")[0].disabled="disabled",document.getElementsByClassName("button4-2")[0].disabled="disabled")},rerun:function(t){this.selectedName.length>1?(this.flagrun=1,this.runstop=0,this.flaglocal=!1,this.evenly=!1,this.flaglocal=!1,console.log("this.flagrun = 1;")):alert("Please load a dataset first!")},clear:function(t){this.paraclear=!0},refine:function(t){this.flagrun=2,this.runstop=0},local:function(t){this.evenly=!1,document.getElementsByClassName("extern-default-button1")[0].disabled="disabled",document.getElementsByClassName("extern-default-button2")[0].disabled="disabled",this.major=!1,this.flaglocal=!0,console.log("flaglocal app:",this.flaglocal)}},computed:{},watch:{filedata:function(t,e){console.log("数据改变",t)},comp:function(t,e){console.log("compare",t),t||(document.getElementsByClassName("item-4")[0].style.display="",document.getElementsByClassName("item-both")[0].style.gridTemplateColumns="50% 50%",document.getElementsByClassName("fdpPara")[0].style.display=""),t&&(document.getElementsByClassName("item-4")[0].style.display="none",document.getElementsByClassName("item-both")[0].style.gridTemplateColumns="100%",document.getElementsByClassName("fdpPara")[0].style.display="none",document.getElementsByClassName("item-2")[0].style.gridTemplateRows="80px auto")},runstop:function(t,e){console.log("disable:",t),0===t&&(document.getElementsByClassName("extern-default-button1")[0].disabled="disabled",document.getElementsByClassName("extern-default-button2")[0].disabled="disabled",document.getElementsByClassName("extern-default-button3")[0].disabled="disabled",document.getElementsByClassName("extern-default-button4")[0].disabled="disabled",document.getElementsByClassName("button4-2")[0].disabled="disabled"),1===t&&(document.getElementsByClassName("extern-default-button1")[0].disabled="",document.getElementsByClassName("extern-default-button2")[0].disabled="",document.getElementsByClassName("extern-default-button3")[0].disabled="",document.getElementsByClassName("extern-default-button4")[0].disabled="",document.getElementsByClassName("button4-2")[0].disabled="")},selectedName:function(t,e){},gravity:function(t,e){var n=100*t;document.getElementById("forcerangegr").style.backgroundSize=n+"% 100%"},charge:function(t,e){var n=t/2+100;document.getElementById("forcerangech").style.backgroundSize=n+"% 100%"},linkdistance:function(t,e){var n=t/2;document.getElementById("forcerangeld").style.backgroundSize=n+"% 100%"},linkstrength:function(t,e){var n=500*t;document.getElementById("forcerangels").style.backgroundSize=n+"% 100%"}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"content"}},[n("div",{attrs:{id:"cora"}},[n("div",{staticClass:"card item-1"},[n("div",{staticClass:"data"},[n("button",{staticClass:"loaddata",on:{click:t.loaddata}},[t._v("load data")]),t._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileRef",attrs:{type:"file"},on:{change:function(e){return t.fileChange(e)}}})]),t._v(" "),n("div",{staticClass:"data"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedName,expression:"selectedName"}],staticClass:"loaddata",attrs:{name:"example",id:"exam"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedName=e.target.multiple?n:n[0]},function(e){return t.changefName(e)}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("example data")]),t._v(" "),t._l(t.list,function(e,a){return n("option",{key:a,domProps:{value:e.fName}},[t._v("\n              "+t._s(e.showname)+"\n            ")])})],2)])]),t._v(" "),n("div",{staticClass:"card",staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-evenly",margin:"10px"}},[t._m(0),t._v(" "),n("div",{staticClass:"item-5"},[n("button",{staticClass:"example",attrs:{value:"rajat11"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            rajat11\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"Cluster800_2"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            cluster\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"qh882"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            qh882\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"btree9"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            btree9\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"VisCoauthor"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            VisCoauthor\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"cage8"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            cage8\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"bcspwr07"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            bcspwr07\n          ")]),t._v(" "),n("button",{staticClass:"example",attrs:{value:"lp_ship04l"},on:{click:function(e){return t.exampleFile(e)}}},[t._v("\n            lp_ship04l\n          ")])])]),t._v(" "),n("div",{staticClass:"item-2"},[n("div",{staticClass:"MyGraphPara"},[t._m(1),t._v(" "),n("div",{staticClass:"parameters"},[n("div",{staticClass:"range"},[n("span",{staticStyle:{"justify-self":"end",padding:"0px"}},[t._v(" α: ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.alpha,expression:"alpha",modifiers:{number:!0}}],attrs:{type:"number",min:"-0.01",max:"1",step:"0.01"},domProps:{value:t.alpha},on:{input:function(e){e.target.composing||(t.alpha=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"range"},[n("span",{staticStyle:{"justify-self":"end",padding:"0px"}},[t._v("β:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beta,expression:"beta",modifiers:{number:!0}}],attrs:{type:"number",min:"0.0",max:"100.0",step:"1.0"},domProps:{value:t.beta},on:{input:function(e){e.target.composing||(t.beta=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"range"},[n("span",{staticStyle:{"justify-self":"end",padding:"0px"}},[t._v("γ:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.gamma,expression:"gamma",modifiers:{number:!0}}],attrs:{type:"number",min:"1.5",max:"20",step:"0.5"},domProps:{value:t.gamma},on:{input:function(e){e.target.composing||(t.gamma=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("div",{staticClass:"default"},[n("button",{staticClass:"button-rerun",attrs:{value:"rerun"},on:{click:function(e){return t.rerun(e)}}},[t._v("\n            Restart & Run\n          ")])]),t._v(" "),n("div",{staticClass:"extern"},[n("div",{staticClass:"extern-default"},[n("button",{staticClass:"extern-default-button1",attrs:{disabled:"disabled",value:"evenly"},on:{click:function(e){return t.setpara(e)}}},[t._v("\n              Evenly\n            ")]),t._v(" "),n("button",{staticClass:"extern-default-button2",attrs:{disabled:"disabled",value:"major"},on:{click:function(e){return t.setpara(e)}}},[t._v("\n              Cluster\n            ")]),t._v(" "),n("button",{staticClass:"extern-default-button3",attrs:{disabled:"disabled",value:"refine"},on:{click:function(e){return t.refine(e)}}},[t._v("\n              Refinement\n            ")]),t._v(" "),n("div",{staticClass:"extern-default-button4x"},[n("button",{staticClass:"extern-default-button4",attrs:{disabled:"disabled",value:"local"},on:{click:function(e){return t.local(e)}}},[t._v("\n                Select\n              ")]),t._v(" "),n("button",{staticClass:"button4-2",attrs:{disabled:"disabled",value:"clear"},on:{click:function(e){return t.clear(e)}}},[t._v("\n                Clear\n              ")])])])])]),t._v(" "),n("div",{staticClass:"item-3"},[n("my-graph",{attrs:{filename:t.selectedName,paraalphaRep:t.alpha,parabetaAttr:t.beta,paragammaRep:t.gamma,parastepsize:t.stepsize,paraflagrun:t.flagrun,evenly:t.evenly,major:t.major,local:t.local,paraclear:t.paraclear,flaglocal:t.flaglocal,filedata:t.filedata,filepath:t.filepath},on:{func:t.getMsgFromSon,flagRunFunc:t.getFlagrun,returnalpahRep:t.returnalpahRep,returnclear:t.returnclear}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticStyle:{color:"red","text-align":"center"}},[this._v("\n          Note that limited by the computational performance and rendering\n          efficiency of the JavaScript code, this demo only shows some layouts\n          and the extending cases of t-FDP.\n          "),e("br"),this._v("\n          For conducting more experiments or handling larger graphs, please\n          refer to our efficient python implementation\n          "),e("a",{attrs:{href:"https://github.com/t-fdp/t-fdp"}},[this._v("(github.com/t-fdp/t-fdp/)")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"font-size":"20px",color:"#515a6e","font-weight":"bold"}},[this._v("\n            parameters\n            "),e("br"),this._v(" "),e("br")])}]};var C=n("VU/8")(w,_,!1,function(t){n("GUwN")},null,null).exports,F=n("T1ft"),R=n.n(F),j=n("mtWM"),E=n.n(j);a.a.config.productionTip=!1,a.a.component("v-select",R.a),a.a.prototype.$axios=E.a,new a.a({el:"#app",components:{App:C},template:"<App/>"})},uVwK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e8b258bfe33fc15c4415.js.map